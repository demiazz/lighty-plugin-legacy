/*! lighty-plugin-legacy v0.1.0 | https://github.com/demiazz/lighty-plugin-legacy | (c) Alexey Plutalov | MIT license */
!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("jquery"),require("lighty")):"function"==typeof define&&define.amd?define(["jquery","lighty"],t):n.lightyPluginLegacy=t(n.jQuery,n.lighty)}(this,function(n,t){"use strict";function o(t,o,e){var r=t[o];r&&(t[o]=function(){for(var n=[],o=arguments.length;o--;)n[o]=arguments[o];return n[e]=n[e].replace(/@@([\w\u00c0-\uFFFF\-]+)/g,'[data-block~="$1"]'),n[e]=n[e].replace(/@([\w\u00c0-\uFFFF\-]+)/g,'[data-role~="$1"]'),r.apply(t,n)},n.extend(t[o],r))}function e(t){for(var o=t.$("[data-role]"),e=0;e<o.length;e+=1)for(var r=o[e],i=r.attributes["data-role"].value.split(" "),u=0;u<i.length;u+=1){var c=i[u];t[c]||(t[c]=n()),t[c].jquery&&t[c].push(r)}}function r(n,t){return n.startsWith(t)}function i(n,t){return n.substr(0,t.length)===t}function u(n,t){return n.endsWith(t)}function c(n,t){return n.substr(-t.length)===t}function l(n,t){return n.includes(t)}function a(n,t){return n.indexOf(t)!==-1}function f(n,t){var o=t.substr(3),e=n[t];n.block.on(o,function(t){for(var o=[],r=arguments.length-1;r-- >0;)o[r]=arguments[r+1];t.currentTarget===t.target&&e.call.apply(e,[n,t].concat(o))})}function d(t,o){var e=t[o];e&&(b?setTimeout(function(){e.call(t,b)},1):n(window).on("load",function(n){e.call(t,n)}))}function p(t,o){var e=o.split(" on ")[0],r=t[o];n("body").on(e,function(){for(var n=[],o=arguments.length;o--;)n[o]=arguments[o];r.call.apply(r,[t].concat(n))})}function s(t,o){var e=o.split(" on ")[0],r=t[o];n(window).on(e,function(){for(var n=[],o=arguments.length;o--;)n[o]=arguments[o];r.call.apply(r,[t].concat(n))})}function g(n,t){var o=t.split(" on "),e=o[0],r=o[1];if(e&&r){var i=n[t];n.block.on(e,r,function(){for(var t=[],o=arguments.length;o--;)t[o]=arguments[o];i.call.apply(i,[n].concat(t))})}}function y(n){return w(n,"on ")?f:"load on window"===n?d:F(n," on body")?p:F(n," on window")?s:m(n," on ")?g:null}function h(n){Object.keys(n).forEach(function(t){var o=y(t);o&&(o(n,t),delete n[t])})}function v(){return function(t,o){t.block=n(o),t.$=function(o){return n(o,t.block)},e(t),h(t)}}n="default"in n?n.default:n,o(n,"find",0),o(n,"multiFilter",0),o(n.find,"matchesSelector",1),o(n.find,"matches",0);var b,w=String.prototype.startsWith?r:i,F=String.prototype.endsWith?u:c,m=String.prototype.includes?l:a;n(window).on("load",function(n){b=n});var j=t.plugin("legacy",v);return j});
//# sourceMappingURL=lighty-plugin-legacy.umd.min.js.map
