/*! lighty-plugin-legacy v0.2.0 | https://github.com/demiazz/lighty-plugin-legacy | (c) Alexey Plutalov | MIT license */
!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("jquery"),require("lighty")):"function"==typeof define&&define.amd?define(["exports","jquery","lighty"],t):t(n.lightyPluginLegacy=n.lightyPluginLegacy||{},n.jQuery,n.lighty)}(this,function(n,t,e){"use strict";function o(n){return n.replace(/@@([\w\u00c0-\uFFFF-]+)/g,'[data-block~="$1"]').replace(/@([\w\u00c0-\uFFFF-]+)/g,'[data-role~="$1"]')}function r(n,e,r){var u=n[e];u&&(n[e]=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return t[r]=o(t[r]),u.apply(n,t)},t.extend(n[e],u))}function u(n){for(var e=n.$("[data-role]"),o=0;o<e.length;o+=1)for(var r=e[o],u=r.attributes["data-role"].value.split(" "),i=0;i<u.length;i+=1){var c=u[i];n[c]||(n[c]=t()),n[c].jquery&&n[c].push(r)}}function i(n,t){return n.startsWith(t)}function c(n,t){return n.substr(0,t.length)===t}function l(n,t){return n.endsWith(t)}function a(n,t){return n.substr(-t.length)===t}function f(n,t){return n.includes(t)}function d(n,t){return n.indexOf(t)!==-1}function p(n,t){var e=t.substr(3),o=n[t];n.block.on(e,function(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];t.currentTarget===t.target&&o.call.apply(o,[n,t].concat(e))})}function s(n,e){var o=n[e];o&&(j?setTimeout(function(){o.call(n,j)},1):t(window).on("load",function(t){o.call(n,t)}))}function y(n,e){var o=e.split(" on ")[0],r=n[e];t("body").on(o,function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];r.call.apply(r,[n].concat(t))})}function g(n,e){var o=e.split(" on ")[0],r=n[e];t(window).on(o,function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];r.call.apply(r,[n].concat(t))})}function h(n,t){var e=t.split(" on "),o=e[0],r=e[1];if(o&&r){var u=n[t];n.block.on(o,r,function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];u.call.apply(u,[n].concat(t))})}}function v(n){return m(n,"on ")?p:"load on window"===n?s:q(n," on body")?y:q(n," on window")?g:k(n," on ")?h:null}function b(n){Object.keys(n).forEach(function(t){var e=v(t);e&&(e(n,t),delete n[t])})}function w(n,t){return void 0===n&&(n=document.body),e.querySelector("string"==typeof n?o(n):n,o(t))}function F(){return function(n,e){n.block=t(e),n.$=function(e){return t(e,n.block)},u(n),b(n)}}t="default"in t?t.default:t,r(t,"find",0),r(t,"multiFilter",0),r(t.find,"matchesSelector",1),r(t.find,"matches",0);var j,m=String.prototype.startsWith?i:c,q=String.prototype.endsWith?l:a,k=String.prototype.includes?f:d;t(window).on("load",function(n){j=n});var S=e.plugin("legacy",F);n.querySelector=w,n.default=S,Object.defineProperty(n,"__esModule",{value:!0})});
//# sourceMappingURL=lighty-plugin-legacy.umd.min.js.map
